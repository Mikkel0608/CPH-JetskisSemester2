<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CPH Jetskis-admin</title>
    <link rel="stylesheet" type="text/css" href="../CSS/Adminstyle.css">
    <script type="text/javascript" src="Javascript/orderPage.js"></script>
</head>

<body style="background-color:rgb(245, 246, 250)">
<script src="Javascript/Users_customer_admin.js">

</script>

<!-- Name and logo -->
<div>
    <h1 id="headTitle"> Bruger-admin </h1>
</div>

<!-- Navigation bar and navigation buttons -->
<div id="naviBar">
    <a href="/Adminpage"><button id="buttonStyle"> Tilbage til forsiden </button></a>

</div>
<h2> style="font-family: modernSansLight; font-size: 30px;"> Brugerprofil </h2>
<br>
<br>
<h3>Vælg brugerens telefonnummer for at se brugerinformation</h3>

<br>
<select id="phoneSelect">
    <option selected disabled id="optionTlf"> -Tlf- </option>
</select>
<!--<button id=showinfo onclick="showInfo(), showOrder()">Vis brugeroplysninger</button>-->

<button type="button" onclick="showInfo()">Submit</button>
<br>
<br>

 <div style="float: left">
     <h4>Brugerinformation</h4>
     <h5>User id</h5> <p id="userid"></p>

     <h5>User type id</h5> <p id="usertypeid"></p>

     <h5>Navn</h5> <p id="customerName"></p>

     <h5>Vejnavn</h5> <p id="customerStreetName"></p>

     <h5>Vejnummer</h5> <p id="customerStreetNumber"></p>

     <h5>Postnummer</h5> <p id="customerPostalCode"></p>

     <h5>By</h5> <p id="customerCity"></p>

     <h5>Telefonnummer</h5> <p id="customerPhone"></p>

     <h5>Email</h5><p id="customerEmail"></p>

     <h5>Dato for oprettelse</h5> <p id="created_at"></p>


 </div>

<div style="position: absolute; top: 184px; left: 200px; z-index: 1;" id="orderArea">
    <div id="orderDetails" style="height: 500px; width: 300px; border: solid black 2px; overflow: scroll;">
        <p id="noOrders"> Ingen aktive ordrer på nuværende tidspunkt. </p>
     </div>
       <!-- <p id="orderHeadline"></p>
        <p id="date"></p>
        <p id="timePeriod"></p>
        <p id="amountOfJetski1"></p>
        <p id="amountOfJetski2"></p>
        <p id="amountOfJetski3"></p>
        <p id="orderPrice"></p>
        <p id="orderId"></p>-->
</div>

<script>
   var selection = document.getElementById("phoneSelect");
    window.onload = function () {

        fetch('/adminpage/allusers')
            .then(response =>
                response.json())
            .then(json => {
                console.log(json);

                for (let i=0; i < json.length; i++){
                    if (json[i].phone !== null || undefined) {
                        var option = document.createElement("option");
                        option.innerHTML = json[i].phone;

                        document.getElementById("phoneSelect").appendChild(option);
                    }
                }
            })
        };

    function showInfo (){
        fetch('/adminpage/allusers')
            .then(response =>
                response.json())
            .then(json => {

                for (let i = 0; i < json.length; i++) {
                    if (selection.value == json[i].phone) {
                        document.getElementById("userid").innerHTML = json[i].userid;
                        document.getElementById("usertypeid").innerHTML = json[i].usertypeid;
                        document.getElementById("customerName").innerHTML = json[i].username;
                        document.getElementById("customerStreetName").innerHTML = json[i].streetname;
                        document.getElementById("customerStreetNumber").innerHTML = json[i].streetnumber;
                        document.getElementById("customerPostalCode").innerHTML = json[i].postalcode;
                        document.getElementById("customerCity").innerHTML = json[i].city;
                        document.getElementById("customerPhone").innerHTML = json[i].phone;
                        document.getElementById("customerEmail").innerHTML = json[i].email;
                        document.getElementById("created_at").innerHTML = json[i].created_at;
                    }
                }
            });
    }
</script>


</body>

</html>